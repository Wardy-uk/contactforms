<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Contact Form Popup Widget</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Shared stylesheet -->
  <link rel="stylesheet" href="styles.css" />

  <!-- BYM form script – we only need GetContactForm -->
  <script language="javascript" src="https://nickwardsandbox.briefyourmarket.com/Script/GetContactForm?id=11&elementId=bymForm"></script>
</head>

<body>
  <!-- Custom popup overlay (opens by default via .is-open) -->
  <div class="modal-overlay is-open" id="contactModal">
    <div class="modal">
      <button class="modal-close" id="contactModalClose" aria-label="Close contact form">
        &times;
      </button>
      <h2 class="modal-title">Contact form popup demo</h2>
      <p class="modal-subtitle">
        This popup is powered by a custom modal, but the form itself is still loaded
        via the BriefYourMarket <code>GetContactForm</code> script.
      </p>

      <!-- BYM will inject the form into this element -->
      <div id="bymForm">
        <p class="form-fallback">
          Loading contact form… If this message remains, please check the script configuration.
        </p>
      </div>
    </div>
  </div>

  <div class="page">
    <header>
      <div class="nav">
        <div class="logo">
          <div class="logo-mark">NW</div>
          <span>Contact form popup demo</span>
        </div>
        <div class="nav-links">
          <a href="index.html">← Back to embedded form demo</a>
        </div>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="hero-tag">
          <div class="hero-tag-dot"></div>
          <span>Popup widget demo (custom modal)</span>
        </div>

        <h1>Contact form popup, using a custom modal and BYM contact form.</h1>

        <p>
          This page demonstrates a custom popup that opens automatically when the page loads.
          The form itself is still rendered by the BriefYourMarket
          <code>GetContactForm</code> script targeting <code>elementId=bymForm</code>.
        </p>

        <ul class="hero-list">
          <li class="hero-list-item">
            <div class="hero-list-bullet"></div>
            <span>Form content is loaded from your BYM sandbox (id=11).</span>
          </li>
          <li class="hero-list-item">
            <div class="hero-list-bullet"></div>
            <span>Popup layout, overlay, and close behaviour are controlled by this page.</span>
          </li>
          <li class="hero-list-item">
            <div class="hero-list-bullet"></div>
            <span>No dependency on <code>DisplayContactForm</code> – ideal for internal demos.</span>
          </li>
        </ul>
      </section>
    </main>

    <footer>
      <div class="footer-inner">
        <span>© <span id="year"></span> Contact Form Demo.</span>
        <span>Popup widget powered by BriefYourMarket.</span>
      </div>
    </footer>
  </div>

  <script>
    // Set footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Simple modal close behaviour
    (function () {
      var modal = document.getElementById("contactModal");
      var closeBtn = document.getElementById("contactModalClose");

      if (modal && closeBtn) {
        closeBtn.addEventListener("click", function () {
          modal.classList.remove("is-open");
        });
      }
    })();
  </script>
</body>
</html>
